Нужно: 
1. Добавить в сущность MortgageApplication 2 поля — status (SUCCESS/DECLINE) и declineReason (TERRORIST, SCORING FAILED, LOW_SALARY); 
2. В ответе MortgageResponse нужно возвращать Status — причину возвращать не нужно, банк такие вещи клиентам не сообщает. 
3. В заявку MortgageRequest добавить поля: 
Long period — количество месяцев на которое берется кредит 
Long salary — чистый месячный доход в рублях 
Long creditAmount — сумма, которая нужна заемщику. 
3. Научиться вычислять статус и причину отклонения — создать 3 сервиса — x 
3.1 PaymentAmountCalculator — проверяет достаточно-ли у клиента средств для получения кредита. 
Если размер ежемесячного платежа более 50% от зарплаты — считаем, что недостаточно. 
3.2 ComplianceChecker — проверка наличия клиента в списке террористов. По ФИО. 
Список можно реализовать в виде Set<String> — на следующем занятии мы научимся работать с несколькими таблицами. 
3. CreditScoreChecker — реализовать проверку клиента по ФИО в справочнике кредитных историй. 
Справочник представляет собой hashMap<String, Double> ФИО-Рейтинг. 
Если рейтинг выше 75.0 кредит выдаем. Если ниже — отказываем. 
Если клиент в справочнике не найден, кредиты раньше не брал — кредит выдаем. 
4. Реализовать в MortgageController возможность возвращать 
/mortgages/declined — все отклоненные заявки 
/mortgages/successful — все успешные заявки 
Фильтрацию можно реализовать вручную при помощи метода repositoryFindAll() 
4.**** Задание со звездочкой — не выгружать все заявки из БД, а сделать фильтрацию на уровне Spring Data — 
вроде findAllWhereStatusEquals(String status); 
 
И да — все Калькулятор и Checker должны быть покрыты unit-тестами. 
Желательно — без использования аннотации [id15890911|@SpringBootTest] — так тесты будут запускаться быстрее